<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>–ü—Ä–æ—Ñ–∏–ª—å | –ö–∞–∑–∏–Ω–æ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;800&family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --gold: #D4AF37; --gold-soft: #F5D98C; --gold-deep: #A7892D; --champagne: #FFEFC4;
      --velvet-1: #0F0B12; --velvet-2: #1A1220; --velvet-3: #2A1A2F; --violet: #7c3aed; --magenta: #a21caf;
      --safe-bottom: env(safe-area-inset-bottom);
    }

    html, body { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Roboto', sans-serif; color: #f6f4fb;
      background:
        radial-gradient(1200px 800px at 70% 30%, rgba(245,217,140,.12), transparent 60%),
        radial-gradient(1000px 700px at 20% 70%, rgba(162,28,175,.10), transparent 65%),
        radial-gradient(900px 600px at 80% 85%, rgba(42,26,47,.5), transparent 70%),
        linear-gradient(180deg, var(--velvet-1) 0%, var(--velvet-2) 60%, #0C0811 100%);
      background-attachment: fixed; letter-spacing: .2px;
    }

    .vignette { position: fixed; inset: 0; pointer-events: none; z-index: 0; background: radial-gradient(1200px 800px at 50% 50%, transparent 40%, rgba(0,0,0,.35) 100%); }

    /* Desktop/tablet sidebar (hidden on mobile) */
    .sidebar { background: linear-gradient(180deg, rgba(24, 18, 38, .98), rgba(18, 14, 32, .98));
      border-right: 1.6px solid rgba(212,175,55,.45); box-shadow: 2px 0 30px rgba(80,0,120,.25);
      z-index: 30; transition: width .3s; width: 230px; position: fixed; inset: 0 auto 0 0; display: flex; flex-direction: column; align-items: center; padding-top: 84px; overflow: hidden;
    }
    .main-offset { margin-left: 230px; }
    .sidebar-link { box-sizing: border-box; border: 1.6px solid rgba(212,175,55,.45); border-radius: 14px; padding: 14px 12px; margin: 0 .5rem 18px .5rem;
      transition: background .3s, color .2s, box-shadow .3s, border .3s, transform .2s; font-weight: 700; background: rgba(60,30,80,.12);
      box-shadow: 0 6px 14px rgba(162,28,175,.18); display: flex; align-items: center; gap: .65rem; color: #fff; text-decoration: none; font-size: 19px;
    }
    .sidebar-link:hover { background: linear-gradient(90deg, var(--magenta) 0%, var(--violet) 100%); border-color: rgba(245,217,140,.6); transform: translateY(-2px); }
    .sidebar-link.active { background: linear-gradient(90deg, var(--gold) 0%, var(--gold-soft) 100%); color: #1a1a3a !important; border-color: rgba(255,215,0,.85); }
    .sidebar-icon { font-size: 2.1rem; }
    .sidebar-text { font-family:'Poppins',sans-serif; font-weight:800; }

    /* Royal profile card */
    .neon-text { background: linear-gradient(92deg, var(--gold), #fff 40%, var(--gold-soft)); -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 0 0 8px rgba(244,215,124,.35), 0 0 24px rgba(214,175,55,.28); animation: neon-glow 2.6s ease-in-out infinite alternate; }
    @keyframes neon-glow { from { text-shadow: 0 0 8px rgba(245,217,140,.35), 0 0 24px rgba(212,175,55,.25); } to { text-shadow: 0 0 18px rgba(245,217,140,.75), 0 0 38px rgba(212,175,55,.55); } }

    .profile-wrap { position: fixed; inset: 0; display: grid; place-items: center; z-index: 10; }

    .profile-container { backdrop-filter: blur(16px) saturate(120%); -webkit-backdrop-filter: blur(16px) saturate(120%);
      background: linear-gradient(180deg, rgba(45, 30, 55, .55), rgba(24, 18, 38, .65)) border-box; border: 1.6px solid rgba(212, 175, 55, .55);
      border-radius: 26px; box-shadow: 0 28px 80px rgba(0,0,0,.55), inset 0 0 60px rgba(212,175,55,.06); padding: 64px 52px 48px; width: min(92vw, 980px); min-width: 320px; position: relative; overflow: hidden; isolation: isolate;
    }
    .profile-container:before { content: '';; position: absolute; inset: -2px; pointer-events: none; z-index: -1; background: conic-gradient(from 160deg at 50% 50%, rgba(212,175,55,0), rgba(212,175,55,.18), rgba(245,217,140,.22), rgba(162,28,175,.14), rgba(212,175,55,0)); filter: blur(18px); }
    .profile-container::after { content: ''; position: absolute; inset: 0; pointer-events: none; opacity:.55; background:
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><g stroke='%23D4AF37' stroke-opacity='0.35' fill='none' stroke-width='1.2'><path d='M10,60c20-40,80-40,100,0'/><path d='M20,70c20-30,60-30,80,0'/><path d='M30,80c20-20,40-20,60,0'/></g></svg>") no-repeat 10px 10px / 120px 120px,
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><g stroke='%23D4AF37' stroke-opacity='0.35' fill='none' stroke-width='1.2' transform='rotate(180 60 60)'><path d='M10,60c20-40,80-40,100,0'/><path d='M20,70c20-30,60-30,80,0'/><path d='M30,80c20-20,40-20,60,0'/></g></svg>") no-repeat right 10px bottom 10px / 120px 120px; }
    .top-accent { position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, transparent, var(--gold), var(--gold-soft), var(--gold), transparent); filter: drop-shadow(0 0 8px rgba(255,215,0,.8)); background-size: 220% 100%; animation: slide-accent 4s linear infinite; }
    @keyframes slide-accent { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }
    .crest { position: absolute; top: -34px; left: 50%; transform: translateX(-50%); width: 82px; height: 82px; border-radius: 50%; background: radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.55), rgba(255,255,255,.05) 35%, rgba(0,0,0,0) 36%), radial-gradient(100% 100% at 70% 80%, rgba(255,255,255,.25), rgba(0,0,0,0) 55%), linear-gradient(180deg, rgba(255,240,195,.5), rgba(212,175,55,.45)); border: 2.2px solid var(--gold); box-shadow: 0 8px 24px rgba(212,175,55,.45), inset 0 0 18px rgba(245,217,140,.25); display: grid; place-items: center; }
    .crest::after{ content:''; position:absolute; inset:10px; border-radius:50%; border:1.6px solid rgba(255,239,196,.75); box-shadow: inset 0 0 12px rgba(212,175,55,.25); }
    .crest-icon { font-size: 34px; filter: drop-shadow(0 2px 6px rgba(212,175,55,.6)); }

    .profile-info { background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035)); border: 1.5px solid rgba(212,175,55,.45); border-radius: 18px; padding: 18px 0; margin-top: 18px; display: flex; flex-direction: column; gap: 6px; box-shadow: inset 0 0 22px rgba(212,175,55,.12); }
    .profile-row { font-size: clamp(1rem, .9rem + .5vw, 1.25rem); display: grid; grid-template-columns: 1.1fr 1.2fr; gap: 12px; align-items: center; padding: 12px 28px; position: relative; }
    .profile-row + .profile-row { border-top: 1px solid rgba(212,175,55,.22); }
    .profile-label { opacity: .9; color: #f0e9ff; text-transform: uppercase; letter-spacing: .1em; font-weight: 700; }
    .profile-value { justify-self: end; font-weight: 800; color: var(--gold-soft); text-shadow: 0 0 10px rgba(245,217,140,.25); }

    .actions { margin-top: 22px; display: flex; gap: 14px; justify-content: center; flex-wrap: wrap; }
    .btn { cursor:pointer; user-select:none; border-radius: 14px; padding: 12px 18px; font-weight:800; letter-spacing:.02em; font-family:'Poppins',sans-serif; border: 1.6px solid var(--gold-deep); transition: transform .15s ease, box-shadow .25s ease, background .25s ease, border .25s ease; text-decoration:none; }
    .btn-primary { color:#1a1330; background: linear-gradient(180deg, var(--gold-soft), var(--gold)); box-shadow: 0 12px 28px rgba(212,175,55,.35), inset 0 2px 0 rgba(255,255,255,.5); }
    .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 16px 36px rgba(212,175,55,.5), inset 0 2px 0 rgba(255,255,255,.6); border-color:#E3C76B; }
    .btn-secondary { color: var(--gold-soft); background: linear-gradient(180deg, rgba(42,26,47,.9), rgba(26,18,32,.9)); border-color: rgba(212,175,55,.45); box-shadow: 0 10px 24px rgba(0,0,0,.35); }
    .btn-secondary:hover { transform: translateY(-1px); box-shadow: 0 16px 36px rgba(212,175,55,.25); border-color: rgba(245,217,140,.6); }

    /* Bottom navigation for mobile */
    .bottom-nav { display: none; }
    .fab { display: none; }

    /* Tablet layout */
    @media (max-width: 1024px) {
      .profile-wrap { position: relative; inset: auto; min-height: 100vh; padding: 48px 24px; }
      .main-offset { margin-left: 230px; }
    }

    /* Mobile layout */
    @media (max-width: 767px) {
      html, body { overflow: auto; }
      .sidebar { display: none; }
      .main-offset { margin-left: 0; }
      .profile-wrap { position: relative; padding: 84px 16px calc(112px + var(--safe-bottom)); min-height: 100vh; display: block; }
      .profile-container { width: 100%; padding: 14vw 4vw 12vw; border-radius: 22px; }
      .profile-row { grid-template-columns: 1fr; text-align: left; padding: 10px 18px; }
      .profile-value { justify-self: start; }
      .actions { gap: 10px; }

      /* Bottom navigation bar */
      .bottom-nav { position: fixed; left: 0; right: 0; bottom: 0; display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; align-items: end; padding: 10px 12px calc(10px + var(--safe-bottom)); z-index: 50;
        background: linear-gradient(180deg, rgba(24, 18, 38, .96), rgba(18, 14, 32, .96)); border-top: 1.4px solid rgba(212,175,55,.45); box-shadow: 0 -8px 26px rgba(0,0,0,.5);
      }
      .bottom-item { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 8px 10px; border-radius: 12px; color: #eaddff; text-decoration: none; font-size: 12px; font-weight: 800; font-family:'Poppins',sans-serif; letter-spacing:.02em; border: 1px solid transparent; transition: transform .15s ease, background .25s ease, border .25s ease; }
      .bottom-item .icon { font-size: 22px; margin-bottom: 4px; }
      .bottom-item:hover { background: rgba(60,30,80,.18); border-color: rgba(212,175,55,.35); }
      .bottom-item.active { background: linear-gradient(180deg, rgba(245,217,140,.15), rgba(245,217,140,.05)); border-color: rgba(245,217,140,.55); color: var(--gold-soft); }

      /* Floating action button */
      .fab { position: fixed; left: 50%; bottom: calc(56px + var(--safe-bottom)); transform: translateX(-50%); z-index: 60; display: grid; place-items: center; width: 64px; height: 64px; border-radius: 20px; color: #1a1330; text-decoration: none; font-family: 'Poppins', sans-serif; font-weight: 900;
        background: linear-gradient(180deg, var(--gold-soft), var(--gold)); border: 1.8px solid var(--gold-deep); box-shadow: 0 16px 36px rgba(212,175,55,.45), inset 0 2px 0 rgba(255,255,255,.6);
      }
      .fab:active { transform: translateX(-50%) translateY(1px); }
    }
  </style>
</head>
<body>
  <!-- Background vignette -->
  <div class="vignette"></div>

  <!-- Particles background -->
  <div id="particles-js" class="absolute inset-0 z-0" style="transform: translateZ(0);"></div>
  <div id="particles-js-extra" class="absolute inset-0 z-0" style="opacity:.9;"></div>

  <!-- Sidebar (desktop/tablet) -->
  <div class="sidebar">
    <nav class="flex flex-col w-full px-1 md:px-3">
      <a href="profile.html" class="sidebar-link active" tabindex="0">
        <span class="sidebar-icon">üë§</span>
        <span class="sidebar-text">–ü—Ä–æ—Ñ–∏–ª—å</span>
      </a>
      <a href="instruction.html" class="sidebar-link" tabindex="0">
        <span class="sidebar-icon">üìú</span>
        <span class="sidebar-text">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</span>
      </a>
      <a href="games.html" class="sidebar-link" tabindex="0">
        <span class="sidebar-icon">üéÆ</span>
        <span class="sidebar-text">–ò–≥—Ä—ã</span>
      </a>
      <a href="about.html" class="sidebar-link" tabindex="0">
        <span class="sidebar-icon">‚ÑπÔ∏è</span>
        <span class="sidebar-text">–û –Ω–∞—Å</span>
      </a>
    </nav>
  </div>

  <!-- Mobile bottom nav + FAB -->
  <a href="#" class="fab" aria-label="–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å">üí∞</a>
  <nav class="bottom-nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
    <a class="bottom-item active" href="profile.html"><span class="icon">üë§</span>–ü—Ä–æ—Ñ–∏–ª—å</a>
    <a class="bottom-item" href="instruction.html"><span class="icon">üìú</span>–ò–Ω—Ñ–æ</a>
    <a class="bottom-item" href="games.html"><span class="icon">üéÆ</span>–ò–≥—Ä—ã</a>
    <a class="bottom-item" href="about.html"><span class="icon">‚ÑπÔ∏è</span>–û –Ω–∞—Å</a>
  </nav>

  <!-- Main content -->
  <main class="profile-wrap main-offset">
    <section class="profile-container">
      <div class="top-accent"></div>
      <div class="crest"><div class="crest-icon">üëë</div></div>
      <h2 class="text-4xl md:text-5xl font-extrabold neon-text mb-6 tracking-tight">üë§ –ü—Ä–æ—Ñ–∏–ª—å üé≤</h2>
      <div class="profile-info">
        <div class="profile-row"><span class="profile-label">–Æ–ó–ï–†–ù–ï–ô–ú:</span> <span id="username" class="profile-value">‚Äî</span></div>
        <div class="profile-row"><span class="profile-label">–§–ï–ô–ö –¢–ï–ì:</span> <span id="fake-tag" class="profile-value">‚Äî</span></div>
        <div class="profile-row"><span class="profile-label">–ë–ê–õ–ê–ù–°:</span> <span id="balance" class="profile-value">‚Äî</span></div>
      </div>
      <div class="actions">
        <a href="#" class="btn btn-primary">–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</a>
        <a href="#" class="btn btn-secondary">–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</a>
      </div>
    </section>
  </main>

  <!-- Particles init and data loading -->
  <script>
    // Tune particles for royal subtlety
    particlesJS('particles-js', {"particles": {"number": {"value": 28, "density": {"enable": true, "value_area": 900}}, "color": {"value": "#D4AF37"}, "shape": {"type": "image", "image": {"src": "img/monetka.png", "width": 50, "height": 50}}, "opacity": {"value": 0.55, "random": true}, "size": {"value": 22, "random": true}, "line_linked": {"enable": false}, "move": {"enable": true, "speed": 1.6, "direction": "none", "random": true, "straight": false, "out_mode": "out"}}, "interactivity": {"detect_on": "canvas", "events": {"onhover": {"enable": true, "mode": "grab"}, "onclick": {"enable": true, "mode": "push"}}, "modes": {"grab": {"distance": 200, "line_linked": {"opacity": 0.32}}, "push": {"particles_nb": 3}}}, "retina_detect": true});
    particlesJS('particles-js-extra', {"particles": {"number": {"value": 28, "density": {"enable": true, "value_area": 900}}, "color": {"value": "#ffffff"}, "shape": {"type": "image", "image": {"src": "img/moneyemoji.png", "width": 40, "height": 40}}, "opacity": {"value": 0.8, "random": true}, "size": {"value": 20, "random": true}, "line_linked": {"enable": false}, "move": {"enable": true, "speed": 1.4, "direction": "none", "random": true, "straight": false, "out_mode": "out"}}, "interactivity": {"detect_on": "canvas", "events": {"onhover": {"enable": false}, "onclick": {"enable": false}}}, "retina_detect": true});

    // –î–∞–Ω–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    function getUserIdFromUrl() { const urlParams = new URLSearchParams(window.location.search); return urlParams.get('user_id'); }
    async function loadUserData() {
      const userId = getUserIdFromUrl(); if (!userId) { console.log('No user_id provided in URL'); return; }
      try {
        const response = await fetch(`/api/user/${userId}`);
        if (response.ok) {
          const userData = await response.json();
          document.getElementById('username').textContent = userData.username || '‚Äî';
          document.getElementById('fake-tag').textContent = userData.fake_tag || '‚Äî';
          document.getElementById('balance').textContent = `${userData.balance || 0} $`;
        } else { console.log('User not found or error occurred'); }
      } catch (error) { console.error('Error loading user data:', error); }
    }
    document.addEventListener('DOMContentLoaded', loadUserData);
  </script>
</body>
</html>